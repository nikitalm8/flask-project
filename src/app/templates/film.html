{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_form %}

{% block content %}

<h1 class="mt-5 display-1"><a href="/" class="text-decoration-none">MovieReviews</a></h1>
<p class="lead">Пишите отзывы к фильмам!</p>
<hr>

<div class="row">
    <div class="row mb-3">
        <div class="col-md-4">
        <img class="img-fluid" src="{{ film.image }}">
        </div>
        <div class="col-md-8">
            <h1 class="mt-3 display-4">{{ film.title }}</h1>
            <p class="lead">Средняя оценка: {{ film.avg }}</p>
            <p>{{ film.text }}</p>
        </div>
    </div>
    <h1 class="display-4">Отзывы</h1>
    <div class="m-1">

        {% for review in film.reviews %}

        <div class="card mb-4">
            <div class="card-body">
                <p class="card-text">Автор: {{ review.author.name }} | Дата: {{ review.created_at }}</p>
                <hr>
                <p class="card-text font-italic">{{ review.text }}</p>
                <p class="card-text font-italic">Оценка: {{ review.rating }} из 10.</p>
            </div>
        </div>

        {% else %}

        <p>Отзывов еще нет, но вы можете оставить первый!</p>

        {% endfor %}

    </div>
    <h1 class="display-4">Оставить отзыв</h1>
    {{ render_form(form) }}

</div>

{% endblock %}